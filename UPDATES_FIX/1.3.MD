# 🐞 CinePi Tier 1 – Dashboard Bug & Status Report

**Date:** July 31, 2025  
**Device:** Raspberry Pi 5 (8GB) + HQ Camera  
**Project:** CinePi Dashboard (Tier 1 - Capture Testing Phase)  
**Lead:** richdollaz @ TheLab  
**Interface:** http://localhost:5000

---

## 🔴 Critical Errors

### 1. `cinepi.camera` Module Import Error

- **Error Message:** `No module named cinepi.camera`
- **Symptoms:**  
  - Camera status = `Disconnected`  
  - All capture/preview functionality is non-functional  
  - Status panel shows `"unknown"` and red disconnected light

- **Likely Cause:**  
  - Incorrect or missing module import  
  - Possibly meant to reference `src.capture_utils` or `picamera2`

- **Suggested Fix:**
  ```python
  # In camera_service.py or related file
  # Replace:
  from cinepi.camera import SomeCameraClass

  # With:
  from src.capture_utils import CameraManager


2. Live Preview Not Displaying
Symptom: "Live Preview" panel shows UI, but no MJPEG stream is shown.

Status: Stream route returns 200 OK but no visible content

Suggested Fixes:

Confirm /stream route returns correct MJPEG headers:

python
Copy
Edit
@app.route("/stream")
def stream():
    return Response(gen_frames(), mimetype='multipart/x-mixed-replace; boundary=frame')
Ensure picamera2 is initialized and feeding the stream

Check if camera is physically detected and not locked by another process

⚠️ Minor Bugs & Warnings
3. WebSocket Status: Disconnected
Symptom: Red Disconnected status at top of dashboard

JS Console: Repeated WebSocket disconnect errors from /ws

Suggested Fixes:

Add namespace handler in backend:

python
Copy
Edit
@socketio.on('connect', namespace='/ws')
def ws_connect():
    print("WebSocket connected")
Ensure you’re running with socketio.run(app) not app.run()

Match client side:

js
Copy
Edit
const socket = io('/ws');
4. Favicon & DevTools 404
Logs:

GET /favicon.ico 404

GET /.well-known/appspecific/com.chrome.devtools.json 404

Fix:

bash
Copy
Edit
touch static/favicon.ico
mkdir -p .well-known/appspecific
touch .well-known/appspecific/com.chrome.devtools.json
✅ Functionality Verified
Feature	Status
/api/status polling	✅
Manual capture	✅
Timelapse start/stop	✅
Resolution/gain UI	✅
Basic API calls	✅

🛠 Priority Fix Queue
Priority	Task
🔴 High	Fix cinepi.camera import error in backend
🔴 High	Ensure Pi camera is detected and stream route is active
🟡 Med	Repair WebSocket /ws endpoint and update frontend handler
🟢 Low	Add favicon + static files to quiet 404s
🟢 Low	Enable error + event logging to logs/dashboard.log

💡 Optional Enhancements
Add backend logging utility (setup_logging() + RotatingFileHandler)

Add frontend error logging via window.onerror

Show most recent image thumbnail under “Recent Captures”

Add live connection test in Camera Status panel

🎯 Goal: Restore HQ camera preview + basic stream + error logging before implementing Tier 1 capture refinement and metadata tracking.

yaml
Copy
Edit

---

Let me know if you'd like this saved as a `.md` file or uploaded to the repo as an issue template.






Ask ChatGPT
